<!doctype html>

<!--[if lt IE 7]><html class="no-js ie6 oldie" lang="en"><![endif]-->
<!--[if IE 7]><html class="no-js ie7 oldie" lang="en"><![endif]-->
<!--[if IE 8]><html class="no-js ie8 oldie" lang="en"><![endif]-->

<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    
    
    <title>PIL IOError: decoder jpeg not available | Lance Jian</title>
    
    <meta name="author" content="Lance Jian"/>

    
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <link rel="alternate" type="application/rss+xml" href="http://feeds.feedburner.com/lcltj"/>

    

    
    
    <link rel="stylesheet" type="text/css" href="/static/css/style.css"/>
    <link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/static/css/tango.css"/>
    

    

    
    <script src="/static/js/libs/modernizr-2.0.6.min.js"></script>
  </head>

  <body>
  <header id="header">
    <div class="container">
      <hgroup id="logo">
      <h1><a href="/"><img src="/static/images/logo.png" alt="Lance Jian"/></a></h1>
      </hgroup>
      <nav>
        <ul>
          <li><a href='/' class="active">Blog</a></li>
          <li><a href='/projects/'>Projects</a></li>
          <li><a href='/about/'>About</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <div id="main">
    <div class="container">
      <div id="content">
        <section id="main_section">
<article>
  <header><h1 class="entry-title">PIL IOError: decoder jpeg not available</h1>
  <p>Posted on 04 Apr 2011 | <a class="dsq-comment-count" href="/2011/04/04/pil-ioerror-decoder-jpeg-not-available.html#disqus_thread">Comments</a></p>
  </header>
  <div class="entry-content"><p>PIL IOError: decoder jpeg not available</p>

<p>Today I got this error when I try to resize a JPEG image in python using the Python Imaging Library (PIL):</p>

<pre><code>File "/usr/local/lib/python2.6/dist-packages/PIL/Image.py", line 1290, in resize
   self.load()
File "/usr/local/lib/python2.6/dist-packages/PIL/ImageFile.py", line 189, in load
   d = Image._getdecoder(self.mode, d, a, self.decoderconfig)
File "/usr/local/lib/python2.6/dist-packages/PIL/Image.py", line 385, in _getdecoder
   raise IOError("decoder %s not available" % decoder_name)
IOError: decoder jpeg not available
</code></pre>

<p>This is because when PIL was being compiled and installed, it did not find the JPEG library. To fix this problem, run:</p>

<pre><code>sudo aptitude install libjpeg-dev
</code></pre>

<p>Then run the following commands to re-install the PIL library:</p>

<pre><code>sudo rm -rf /usr/local/lib/python2.6/dist-packages/PIL
sudo easy_install pil
</code></pre>

<p>Check the PIL setup summary which is inside the output messages. It shows that it supports JPEG now:</p>

<pre><code>PIL 1.1.7 SETUP SUMMARY
-------------------------------
...
--- JPEG support available
...
</code></pre>

<p>All the commands here works under Ubuntu 10.04.</p>
</div>
</article>
<p><a href="/archive.html">See All Posts</a></p>
<div id="disqus_thread"></div>

</section>
<section id="sidebar" class="sub_section">
  <div id="search-form">
  <form action="/search/" method="get">
    <input id="search-input" type="text" name="q" placeholder="Search..."/>
    <input type="image" src="/static/images/icon_search.png" class="search-submit" alt="Submit"/>
  </form>
</div>
</section>
      </div>
    </div>
  </div>
  <footer>
    <div class="container">
      <p>Copyright &copy;2012 lancejian.com. All rights reserved. </p>
    </div>
  </footer>
  

  
  
  <script src="http://www.google.com/jsapi" type="text/javascript"></script>
  
  <script type="text/javascript" src="/static/js/script.js"></script>
  
	
  
  <script type="text/javascript">
    var disqus_shortname = "lancejian";
    window._gaq = [['_setAccount','UA-1637721-4'],['_trackPageview'],['_trackPageLoadTime']];
    Modernizr.load([
        {load: "http://"+ disqus_shortname + ".disqus.com/count.js"},
        {load: "http://" + disqus_shortname + ".disqus.com/embed.js"},
        {load: ("https:" == location.protocol ? "//ssl" : "//www") + ".google-analytics.com/ga.js"}
    ]);
  </script>

  
  <!--[if lt IE 7 ]><script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script><![endif]-->
  
</body>
</html>