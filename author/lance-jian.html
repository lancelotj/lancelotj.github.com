<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Mind Like Water - Lance Jian</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="Lance Jian">

    <link href="http://feeds.feedburner.com/lcltj" type="application/atom+xml" rel="alternate" title="Mind Like Water Atom Feed" />

    <link href="/theme/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
    <link href="/theme/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/theme/css/main.css" type="text/css" />
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <link rel="shortcut icon" href="/icon/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/static/icons/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/static/icons/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/static/icons/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="static/icons/apple-touch-icon-57-precomposed.png">
  </head>
  <body>
    <div id="navbar" class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <div class="nav-collapse">
            <ul class="nav">
              <li class="active"><a href="/">Blog</a></li>
                            <li><a href="/contact.html">Contact</a></li>
                            <li><a href="/projects.html">Projects</a></li>
                          </ul>
          </div>
          
        </div>
      </div>
    </div>
    <header>
  <div class="container">
      <h1>Mind Like Water</h1>
      <p class="lead">Cool things about code.</p>  </div>
</header>
    <div class="container">
      <div class="row">
        <div id="main" class="span8">
                  
          
    <article>
    <header>
      <h2 class="entry-title"><a href="/2012/02/03/change-default-editor-for-visudo-in-ubuntu.html" rel="bookmark" title="Permalink to Change Default Editor for visudo in Ubuntu">Change Default Editor for visudo in Ubuntu</a></h2> 
      <p class="meta">Fri 03 February 2012
 by Lance Jian in <a href="/category/linux.html">Linux</a>.
</p>                </header>
    <section>
      <p>Ubuntu and Debian use the alternatives system to maintain the symbolic links for
programs. When you first run <code>visudo</code>, it will prompt a list of editors for you
to choose from. Unfortunately, it doesn't tell you how to change that setting
again. The mostly happend situation is: you set it to "nano" at first, and can't
change it to "vi" at a later time.</p>
<p>Here is the command to bring up that list again:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">update</span><span class="o">-</span><span class="n">alternatives</span> <span class="o">--</span><span class="n">config</span> <span class="n">editor</span>
</pre></div>


<p>Some people suggest using command <code>EDITOR=vi visudo</code>, or <code>export EDITOR=vi;
visudo</code>, but it's really annoying if you have to remember and type so many
letters everytime you run this command.</p>
    </section>
    <footer>
      <p><a href="/2012/02/03/change-default-editor-for-visudo-in-ubuntu.html#disqus_thread">comments</a></p>    </footer>
    </article>
          
    <article>
    <header>
      <h2 class="entry-title"><a href="/2012/03/10/change-pdf-file-initial-view.html" rel="bookmark" title="Permalink to Change PDF File Initial View">Change PDF File Initial View</a></h2> 
      <p class="meta">Sat 10 March 2012
 by Lance Jian in <a href="/category/tool.html">Tool</a>.
</p>                </header>
    <section>
      <p>When you open PDF files using Adobe Reader, it will read initial view settings
such as single page or double page stored in the PDF file. It's actually pretty
easy to change this information in Linux:</p>
<ol>
<li>Install pdfedit: <code>sudo apt-get install pdfedit</code></li>
<li>Open the PDF file in pdfedit, right click the "catalog" node in the tree panel, choose "add item to dictionary"</li>
<li>Add property name: "PageLayout"</li>
<li>Select "name" and input "TwoPageRight"</li>
<li>Click "add and close"</li>
<li>Save the PDF file</li>
</ol>
<p>This adds a name in the catalog dictionary of PDF file. It will be used by the
Acrobat Reader. There are other possibilities:</p>
<ul>
<li>SinglePage</li>
<li>OneColumn</li>
<li>TwoColumnLeft</li>
<li>TwoColumnRight</li>
<li>TwoPageLeft</li>
<li>TwoPageRight</li>
</ul>
<p>"Column" means continuous page. "Page" means display as a single page. "Left"
means start double pages  with odd-numbered pages on the left.</p>
<p>Please note that not all PDF viewers support this setting.</p>
    </section>
    <footer>
      <p><a href="/2012/03/10/change-pdf-file-initial-view.html#disqus_thread">comments</a></p>    </footer>
    </article>
          
    <article>
    <header>
      <h2 class="entry-title"><a href="/2011/04/09/clone-a-ubuntu-virtual-machine-image.html" rel="bookmark" title="Permalink to Clone a Ubuntu Virtual Machine Image">Clone a Ubuntu Virtual Machine Image</a></h2> 
      <p class="meta">Sat 09 April 2011
 by Lance Jian in <a href="/category/linux.html">Linux</a>.
</p>                </header>
    <section>
      <p>I recently created a Ubuntu server virtual machine image and wanted to clone it
so that I don't need to install everything from scratch again. It turned out
this is fairly easy.</p>
<p>First,  copy the image file and create a new virtual machine from it. Next,
start and log in the "new" machine.</p>
<p>Now, remove <code>70-persistent-net.rules</code>, otherwise the network will not work:</p>
<div class="highlight"><pre><span class="n">sudo</span> <span class="n">rm</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">udev</span><span class="o">/</span><span class="n">rules</span><span class="p">.</span><span class="n">d</span><span class="o">/</span><span class="mi">70</span><span class="o">-</span><span class="n">persistent</span><span class="o">-</span><span class="n">net</span><span class="p">.</span><span class="n">rules</span>
</pre></div>


<p>This file will be re-generated after a reboot.</p>
<p>Next, change the hostname in <code>/etc/hostname</code> and /<code>etc/hosts</code> according to your
preference. </p>
<p>Finally, reboot and enjoy the new machine.</p>
<p>See also: <a href="http://koo.fi/tech/2010/11/28/cloning-ubuntu-1004-server-kvm-guests-efficiently/">Cloning Ubuntu 10.04 Server KVM guests efficiently</a></p>
    </section>
    <footer>
      <p><a href="/2011/04/09/clone-a-ubuntu-virtual-machine-image.html#disqus_thread">comments</a></p>    </footer>
    </article>
          
    <article>
    <header>
      <h2 class="entry-title"><a href="/2012/02/01/configure-cygwin-environment.html" rel="bookmark" title="Permalink to Configure Cygwin Environment">Configure Cygwin Environment</a></h2> 
      <p class="meta">Wed 01 February 2012
 by Lance Jian in <a href="/category/linux.html">Linux</a>.
</p>                </header>
    <section>
      <p><a href="http://www.cygwin.com">Cygwin</a> is a windows program that simulates a Linux
environment. The default installation uses <code>cmd.exe</code> as the terminal program
which is not very convenient. For example,  it can only be resized up to 80
characters in width. Fortunately, there is an <code>rxvt</code> package in the Cygwin
distribution. You only need to tweak some options to make it look like the
terminal in Unix system.</p>
<p>Right click "Start &gt; Cygwin &gt; rxvt-native" menu item, and select
"Properties...", edit the "Target" field to:</p>
<div class="highlight"><pre><span class="nl">C:</span><span class="err">\</span><span class="n">path</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">cygwin</span><span class="err">\</span><span class="n">bin</span><span class="err">\</span><span class="n">rxvt</span><span class="p">.</span><span class="n">exe</span> <span class="o">-</span><span class="n">display</span> <span class="o">:</span><span class="mi">0</span> <span class="o">-</span><span class="n">geometry</span> <span class="mi">80</span><span class="n">x43</span> <span class="o">+</span><span class="n">sb</span> <span class="o">-</span><span class="n">bg</span> <span class="n">black</span> <span class="o">-</span><span class="n">fg</span> <span class="n">gray</span> <span class="o">-</span><span class="n">fn</span> <span class="s">&quot;DejaVu Sans Mono-16&quot;</span> <span class="o">-</span><span class="n">tn</span> <span class="n">rxvt</span><span class="o">-</span><span class="n">cygwin</span><span class="o">-</span><span class="n">native</span> <span class="o">-</span><span class="n">e</span> <span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">bash</span> <span class="o">--</span><span class="n">login</span>
</pre></div>


<p>You can change "<a href="http://dejavu-fonts.org">DejaVu Sans Mono</a>" font to the font
name you prefer.</p>
    </section>
    <footer>
      <p><a href="/2012/02/01/configure-cygwin-environment.html#disqus_thread">comments</a></p>    </footer>
    </article>
          
    <article>
    <header>
      <h2 class="entry-title"><a href="/2012/02/05/convert-mercurial-repository-into-git.html" rel="bookmark" title="Permalink to Convert Mercurial Repository into Git">Convert Mercurial Repository into Git</a></h2> 
      <p class="meta">Sun 05 February 2012
 by Lance Jian in <a href="/category/linux.html">Linux</a>.
</p>                </header>
    <section>
      <p>I have some old mercurial repositories, and recently I want to convert them into
git repositories. It turns out that converting them is pretty easy. First, you
need to get <a href="http://repo.or.cz/w/fast-export.git">hg-fast-export</a>:</p>
<div class="highlight"><pre><span class="n">git</span> <span class="n">clone</span> <span class="n">git</span><span class="o">:</span><span class="c1">//repo.or.cz/fast-export.git</span>
</pre></div>


<p>Next, create a new git repository:</p>
<div class="highlight"><pre><span class="n">mkdir</span> <span class="n">new_git_repo</span>
<span class="n">cd</span> <span class="n">new_git_repo</span>
<span class="n">git</span> <span class="n">init</span>
</pre></div>


<p>Finally, use the <code>hg-fast-export.sh</code> script from the directory you just checked
out in the first step:</p>
<div class="highlight"><pre><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hg</span><span class="o">-</span><span class="n">fast</span><span class="o">-</span><span class="n">export</span><span class="p">.</span><span class="n">sh</span> <span class="o">-</span><span class="n">r</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">hg_repo</span>
<span class="n">git</span><span class="o">-</span><span class="n">repack</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">d</span> <span class="o">-</span><span class="n">f</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">BRANCH_NAME</span>
</pre></div>


<p><code>BRANCH_NAME</code> is the name of mercurial branch, the "default" branch in mercurial
will be called "master".</p>
<p><code>hg-fast-export.sh</code> supports <code>--force</code> parameter, you can use it if you get
validation errors.</p>
    </section>
    <footer>
      <p><a href="/2012/02/05/convert-mercurial-repository-into-git.html#disqus_thread">comments</a></p>    </footer>
    </article>
    <div class="pagination">
  <ul>
                                <li class="active"><a href="/author/lance-jian.html">1</a></li>
                <li><a href="/author/lance-jian2.html">2</a></li>
                        <li><a href="/author/lance-jian2.html">Next</a></li>
      </ul>
</div>
        </div>
        <!--googleoff: index -->
        <div class="span4">
          <div id="sidebar" class="span4">
            <form class="form-search" action="/search.html" method="get">
            <div class="input-append">
                <input id="search_input" type="text" class="span3 search-query" name="q"/>
                <button type="submit" class="btn">Search</button>
            </div>
            </form>
            <div class="well lclt" style="padding:8px 0">
  <ul class="nav nav-list">
    <li class="nav-header">Categories</li>
        <li ><a href="/category/linux.html">Linux</a></li>
        <li ><a href="/category/python.html">Python</a></li>
        <li ><a href="/category/tool.html">Tool</a></li>
        <li class="nav-header">Follow Me</li>
    <li><a href="http://feeds.feedburner.com/lcltj" type="application/atom+xml" rel="alternate">Feed</a></li>
        <li><a href="http://twitter.com/lancelotj">Twitter</a></li>
            <li class="nav-header">Links</li>
          <li><a href="http://duganchen.ca/">Dugan Chen's Homepage</a></li>
          <li><a href="http://www.k3vin.net">k3vin.net</a></li>
            </ul>
</div>
          </div>
        </div>
        <!--googleon: index-->
      </div>
    </div>
    <footer>
    <div class="container">
      <p>Copyright &copy;2012 lancejian.com. All rights reserved. </p>
    </div>
    </footer>

    <script type="text/javascript" src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/static/js/main.js"></script>
        <!--[if lt IE 7 ]>
    <script src="//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js"></script>
    <script>window.attachEvent('onload',function(){CFInstall.check({mode:'overlay'})})</script>
    <![endif]-->
  </body>
</html>